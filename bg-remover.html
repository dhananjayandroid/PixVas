<!DOCTYPE html>
<html class="light" lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>PixVas - Free AI Background Remover</title>
  <link href="./src/css/style.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" crossorigin="anonymous" />
  <link rel="icon" type="image/png" href="/logo.png" />


  <style>
    /* Comparison Slider Styles */
    .compare-container {
      position: relative;
      height: 470px;
      /* Reduced by 15% from 550px */
      width: 100%;
      max-width: 100%;
      margin: 0 auto;
      overflow: hidden;
      border-radius: 1rem;
      user-select: none;
      display: flex;
      justify-content: center;
    }

    .compare-container.hidden {
      display: none !important;
    }

    .compare-image {
      display: block;
      height: 100%;
      width: 100%;
      object-fit: contain;
      /* Ensure it zooms inside/contains */
    }

    /* Target Result Image (Base) */
    .compare-image.result {
      /* This dictates the container size effectively if flex container depends on content */
    }

    .compare-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 50%;
      height: 100%;
      overflow: hidden;
      border-right: 2px solid white;
    }

    .compare-overlay img {
      /* Overlay image must match the dimensions of the base image exactly */
      height: 100%;
      width: 100%;
      max-width: none !important;
      /* CRITICAL: Prevent image from shrinking when overlay wrapper shrinks */
      object-fit: contain;
    }

    /* Crucial: max-width none allows maintaining aspect */
    .compare-handle {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 40px;
      height: 40px;
      background: white;
      border-radius: 50%;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      display: flex;
      /* This was overriding .hidden */
      align-items: center;
      justify-content: center;
      z-index: 10;
      cursor: ew-resize;
    }

    .compare-handle.hidden {
      display: none !important;
    }

    .compare-range {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: ew-resize;
      margin: 0;
      z-index: 20;
    }

    .dark .loading-overlay {
      background: rgba(17, 19, 24, 0.8);
    }

    .loading-overlay {
      position: absolute;
      inset: 0;
      background: rgba(255, 255, 255, 0.8);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .loading-overlay.hidden {
      display: none !important;
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark text-[#111318] dark:text-gray-100 min-h-screen">
  <div class="layout-container flex flex-col min-h-screen">
    <header id="header-container"></header>
    <main class="flex-1 max-w-[1440px] mx-auto w-full px-6 lg:px-20 py-8">
      <!-- Upload Section -->
      <div id="upload-section">
        <div class="mb-8">
          <div class="flex items-center gap-3 mb-2">
            <span
              class="bg-primary/10 text-primary text-[10px] font-bold px-2.5 py-1 rounded-full uppercase tracking-widest">Free
              &amp; Instant</span>
          </div>
          <h1 class="text-4xl md:text-5xl font-black tracking-tight text-[#111318] dark:text-white mb-3">
            AI Background Remover
          </h1>
          <p class="text-[#606e8a] dark:text-gray-400 text-lg max-w-2xl leading-relaxed">
            Professional image processing in seconds. Completely free, no registration required.
            Just upload and download your results instantly.
          </p>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">
          <div class="lg:col-span-5 flex flex-col gap-6">
            <div
              class="bg-white dark:bg-gray-900 rounded-xl p-2 shadow-sm border border-[#f0f1f5] dark:border-gray-800">
              <div id="drop-zone"
                class="dashed-border flex flex-col items-center justify-center py-20 px-10 transition-all hover:bg-primary/5 cursor-pointer group">
                <div
                  class="size-16 rounded-full bg-primary/10 flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                  <span class="material-symbols-outlined text-primary text-3xl">cloud_upload</span>
                </div>
                <h3 class="text-[#111318] dark:text-white text-xl font-bold mb-2">Drop your image here</h3>
                <p class="text-[#606e8a] dark:text-gray-400 text-sm text-center mb-8">
                  PNG, JPG, WebP up to 25MB. <br /> Processing starts immediately.
                </p>
                <button id="browse-btn"
                  class="flex min-w-[160px] items-center justify-center rounded-xl h-12 px-6 bg-primary text-white text-sm font-bold hover:bg-primary/90 transition-all shadow-lg shadow-primary/20">
                  Select File
                </button>
                <input type="file" id="file-input" accept="image/*" hidden />
              </div>
            </div>
            <div class="flex items-center justify-center gap-2 py-2">
              <span class="material-symbols-outlined text-green-500 text-lg">verified_user</span>
              <span class="text-sm font-medium text-gray-500">No account required â€¢ Private &amp; Secure</span>
            </div>
            <div class="p-4 bg-white dark:bg-gray-900 rounded-xl border border-[#f0f1f5] dark:border-gray-800">
              <div class="flex items-center justify-between">
                <div class="flex flex-col">
                  <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Avg. Speed</span>
                  <span class="text-sm font-bold">1.2s per image</span>
                </div>
                <div class="h-8 w-[1px] bg-gray-100 dark:bg-gray-800"></div>
                <div class="flex flex-col">
                  <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Daily Usage</span>
                  <span class="text-sm font-bold">Unlimited</span>
                </div>
                <div class="h-8 w-[1px] bg-gray-100 dark:bg-gray-800"></div>
                <div class="flex flex-col">
                  <span class="text-[10px] font-bold text-gray-400 uppercase tracking-wider">Quality</span>
                  <span class="text-sm font-bold">4K HD</span>
                </div>
              </div>
            </div>
          </div>
          <!-- Static Preview (Visual Only) -->
          <!-- Active Preview Section -->
          <div class="lg:col-span-7 flex flex-col gap-6">
            <div
              class="bg-white dark:bg-gray-900 rounded-xl shadow-sm border border-[#f0f1f5] dark:border-gray-800 overflow-hidden flex flex-col h-full">
              <div class="p-4 border-b border-[#f0f1f5] dark:border-gray-800 flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <span class="size-2 rounded-full bg-primary animate-pulse"></span>
                  <span class="text-xs font-bold uppercase tracking-wider text-gray-500">Instant Preview Engine</span>
                </div>
                <!-- Filename Display -->
                <div id="filename" class="text-xs font-bold text-slate-500 dark:text-slate-400 hidden"></div>
              </div>

              <!-- Comparison Area -->
              <div
                class="relative flex-1 bg-[radial-gradient(#e2e8f0_1px,transparent_1px)] dark:bg-[radial-gradient(#334155_1px,transparent_1px)] [background-size:20px_20px] min-h-[400px] flex items-center justify-center p-6">
                <!-- Placeholder Text (Initial State) -->
                <div id="preview-placeholder"
                  class="absolute inset-0 flex items-center justify-center text-gray-400 text-sm pointer-events-none">
                  Preview active after upload
                </div>

                <div id="compare-container" class="compare-container hidden">
                  <img id="result-preview" class="compare-image result" src="" alt="Background Removed">
                  <div id="compare-overlay" class="compare-overlay">
                    <img id="original-preview" class="compare-image original" src="" alt="Original">
                  </div>
                  <div id="compare-handle" class="compare-handle">
                    <span class="material-symbols-outlined text-gray-400">code</span>
                  </div>
                  <input id="compare-slider" type="range" min="0" max="100" value="50" class="compare-range">

                  <div id="loading-overlay" class="loading-overlay hidden">
                    <div class="size-12 border-4 border-slate-200 border-t-primary rounded-full animate-spin"></div>
                    <p class="mt-4 font-bold text-slate-600 dark:text-slate-300">Removing Background...</p>
                  </div>
                </div>
              </div>

              <!-- Controls -->
              <div id="preview-controls"
                class="p-4 border-t border-[#f0f1f5] dark:border-gray-800 flex justify-end hidden">
                <button id="download-btn"
                  class="bg-primary text-white px-6 py-2 rounded-lg font-bold shadow-md hover:bg-primary/90 transition-all flex items-center gap-2">
                  <span class="material-symbols-outlined text-lg">download</span> Download PNG
                </button>
              </div>
            </div>
          </div>
    </main>
    <footer id="footer-container"></footer>
  </div>
  <script type="module" src="./src/js/layout.js"></script>
  </div>

  <!-- Logic -->
  <script type="module" src="./src/js/remove-bg.js"></script>
</body>

</html>